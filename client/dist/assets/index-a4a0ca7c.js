import{_ as y,k as G,a6 as w,o as a,c,b as e,d as u,w as g,a8 as f,e as s,a3 as p,R as V,p as $,j as S,aK as L,a9 as b,r as h,y as B,G as E,ab as C,V as K,a7 as N,m as R,i as q,g as D}from"./index-ee9a4261.js";import{v as j}from"./loading-73de403d.js";/* empty css               *//* empty css              */import{E as z}from"./index-eb89c5ee.js";import{E as A}from"./index-d37bbe39.js";import"./index-f5ca2c44.js";import"./icon-28d7bd83.js";import"./event-fbb285ad.js";import"./use-form-item-d271546b.js";import"./index-1e3f29bd.js";const F=n=>($("data-v-95ecafdc"),n=n(),S(),n),M={class:"goods"},O={class:"panels"},T={class:"goods-img"},U={alt:""},W={class:"des"},H={class:"price"},J={key:0,class:"tag"},P=F(()=>e("span",null,"限时特价",-1)),Q={__name:"GoodsItem",props:{goodsInfo:{type:Object,default:()=>{}}},setup(n){const o=n.goodsInfo;return(t,l)=>{const i=G("RouterLink"),_=w("img-lazy");return a(),c("div",M,[e("div",O,[u(i,{to:"/detail/".concat(s(o).id),target:"_blank"},{default:g(()=>[e("div",T,[f(e("img",U,null,512),[[_,s(o).goods_img]])]),e("h3",null,p(s(o).goodsname),1),e("p",W,p(s(o).description),1),e("p",H,[e("i",null,"¥"+p(s(o).price),1)]),s(o).activity?(a(),c("p",J,[e("i",null,p(s(o).activity),1),P])):V("",!0)]),_:1},8,["to"])])])}}},X=y(Q,[["__scopeId","data-v-95ecafdc"]]);const Y={class:"search"},Z={class:"layout"},ee={class:"top"},oe={class:"content"},te={key:0,class:"empty"},se={key:1,class:"list"},ae={__name:"index",setup(n){const d=L(),o=b(),t=h(""),l=h(!1);d.query.key&&(t.value=d.query.key);const i=async()=>{typeof t.value=="string"&&t.value.startsWith("%")&&(t.value=""),l.value=!0,await o.searchGoods(t.value),l.value=!1};B(()=>{i()});const _=()=>{i(),R("搜索成功")};return E(()=>d.query.key,m=>{t.value=m,i()}),(m,v)=>{const k=z,x=A,I=j;return f((a(),c("div",Y,[e("div",Z,[e("div",ee,[u(k,{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=r=>t.value=r),onKeyup:C(_,["enter"]),style:{width:"60%",height:"40px","margin-right":"20px"},placeholder:"请输入搜索关键字"},null,8,["modelValue","onKeyup"]),u(x,{onClick:_,type:"primary",style:{height:"40px"}},{default:g(()=>[q("搜 索")]),_:1})]),e("div",oe,[s(o).searchGoodsList.length<1?(a(),c("div",te," 暂无商品 ")):(a(),c("div",se,[(a(!0),c(K,null,N(s(o).searchGoodsList,r=>(a(),D(X,{key:r,goodsInfo:r},null,8,["goodsInfo"]))),128))]))])])])),[[I,l.value]])}}},he=y(ae,[["__scopeId","data-v-2ea4feef"]]);export{he as default};
